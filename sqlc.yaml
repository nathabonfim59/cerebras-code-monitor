version: "2"
sql:
  - engine: "sqlite"
    queries: db/query.sql
    schema: db/schema.sql
    gen:
      go:
        package: db
        out: internal/db
        emit_json_tags: true
        emit_pointers_for_null_types: true
        overrides:
          # String type override for nullable strings
          - db_type: "text"
            nullable: true
            go_type:
              import: "github.com/guregu/null"
              package: "null"
              type: "String"

          # Integer type overrides for nullable integers
          - db_type: "integer"
            nullable: true
            go_type:
              import: "github.com/guregu/null"
              package: "null"
              type: "Int"
 
          # Float type overrides for nullable floats
          - db_type: "real"
            nullable: true
            go_type:
              import: "github.com/guregu/null"
              package: "null"
              type: "Float"

          # Boolean type override for nullable booleans
          - db_type: "boolean"
            nullable: true
            go_type:
              import: "github.com/guregu/null"
              package: "null"
              type: "Bool"

          # Time type override for nullable timestamps
          - db_type: "datetime"
            nullable: true
            go_type:
              import: "github.com/guregu/null"
              package: "null"
              type: "Time"
